# Тема 38 - Потоковый ввод stdin и вывод stdout `[]`

Ввод (stdin) и вывод (stdout) - это как дыхание программы.  
Ввод позволяет твоей программе получать информацию от пользователя или других программ,  
а вывод - передавать результаты своей работы обратно.  

Это ключевые элементы взаимодействия твоего кода с внешним миром. 


- `[Поток данных]` - это непрерывный поток информации, который поступает в программу или обрабатывается ей.

- Если количество данных ограничено - Функции `[input()]` и `[print()]` - отличный выбор для их обработки.
- Когда объем обрабатываемых данных неизвестен заранее, файловые потоки ввода/вывода становятся более удобным инструментом. Они позволяют эффективно обрабатывать большие объемы данных или работать с внешними источниками и приёмниками информации.




<details>
  <summary>Поток ввода stdin</summary>

- `[Поток ввода]` - это последовательный поток данных, который поступает в программу из внешних источников (клавиатура, файлы, сетевые соединения и др.) и который программа может читать и обрабатывать.
- `[input()]` - функция, ожидающая ввода данных от пользователя. Объём данных должен быть известен заранее.
- `[sys.stdin]` - файловый объект, поток ввода. Это объект, который предоставляет доступ к данным, которые подаются на вход программе. Это может быть как ввод с клавиатуры, так и ввод из файла, если ввод перенаправлен. Объём данных может быть неизвестен заранее.
  
     - Данные поступают в программу и временно сохраняются в потоке ввода (sys.stdin). В момент прочтения, данные пропадают из потока ввода, так как он хранит их до тех пор, пока они не будут прочитаны.
- `[sys.stdin]` - Является итератором. Как только данные прочитаны, они удаляются из потока ввода безвозвратно.
#
- Чтобы работать с потоком ввода (sys.stdin), необходимо подключить модуль `[sys]` стандартной командой `[import sys]`.
#
### Что бы остановить потоковый ввод:
- `[Ctrl + D]` - если работаете в консоли Linux или IDE PyCharm
- `[Ctrl + Z]` затем `[Enter]` - если работаете в консоли Windows
#
### Считывание входных данных в одну строку:

-  C помощью списочного выражения:
```
data = [line.strip() for line in sys.stdin]
```
- C помощью функции высшего порядка `[map()]`:
```
data = list(map(str.strip, sys.stdin))
```
#
### Методы read() и readlines():

- `[readlines()]` - Позволяет считать все строки из итератора (с сохранением символов перевода строки) в список.
- Возвращает список, в котором каждый элемент оканчивается сиволом переноса строки `[\n]`
```
import sys

data = sys.stdin.readlines()
```
- `[read()]` - Позволяет считать многострочный текст из стандартного потока ввода в текстовую переменную без разделения на строки.
- Возвращает строку, весь текст будет представлен в одной строке.
```
import sys

data = sys.stdin.read()
```

</details>
<details>
  <summary>Поток вывода stdout</summary>

- `[Поток вsвода]` - это последовательный поток данных, который передается из программы во внешние источники, (экран консоли, файлы или другие устройства) и представляет собой выходные результаты работы программы.
- `[print()]` - Выводит данные на экран или в другие устройства. Объём данных должен быть известен заранее.
- `[sys.stdout]` - файловый объект, поток вывода. Это объект, который предоставляет доступ к данным, идущим на вывод программы.
  
     - По умолчанию функция print() перенаправляет вывод данных именно в sys.stdout
     - Можно самостоятельно писать в поток вывода при помощи метода `[write()]`
```
import sys

print('Hello')                 # Hello
sys.stdout.write('world!')     
print('from')                  #world!from
sys.stdout.write('python\n')   # python
print('Bye-bye')               # Bye-bye
```
- `[print()]` - добавляет перевод на новую строку
- `[sys.stdout.write()]` - для переноса строки требует символа `[\n]`
- При использовании потока вывода `[sys.stdout]` нам нужно самостоятельно преобразовывать данные к строковому типу данных (функция print() это делает автоматически).

</details>
<details>
  <summary>Потоковые методы</summary>

### Поток ввода (stdin):
#
1) `[read()]` - Позволяет считать многострочный текст из стандартного потока ввода в текстовую переменную без разделения на строки.
- Возвращает строку, весь текст будет представлен в одной строке.
```
import sys

data = sys.stdin.read()
```
#
2) `[readlines()]` - Позволяет считать все строки из итератора (с сохранением символов перевода строки) в список.
- Возвращает список, в котором каждый элемент оканчивается сиволом переноса строки `[\n]`
```
import sys

data = sys.stdin.readlines()
```
#
3) `[readline(size)]` - используется для чтения одной строки из потока ввода. Если метод вызывается без аргумента, он считывает строку до символа новой строки ('\n')
- `[size]` - позволяет указать колличество символов в строке, которые нужно считать.
```
import sys

line = sys.stdin.readline()
print(f"Прочитано из stdin: {line}")
```

#
### Поток вывода (stdout):

1) `[write(s)]` - используется для записи строки s в поток вывода (stdout).
- Этот метод не добавляет символ новой строки ('\n') в конце строки, поэтому если нужно добавить перевод строки, его следует явно добавить в строку
```
import sys

# Запись строки в stdout
sys.stdout.write("Привет, мир!")

# Запись строки с переводом строки
sys.stdout.write("Это новая строка.\n")
```
#
2) `[flush()]` - используется для явного сброса буфера вывода.
- Буферизация вывода — это механизм, при котором данные сначала накапливаются в буфере, а затем записываются в устройство вывода. 
```
import sys

# Запись строки в stdout с использованием буферизации
sys.stdout.write("Привет, мир!")

# Сброс буфера, чтобы данные были немедленно записаны в устройство вывода
sys.stdout.flush()

# Запись еще одной строки
sys.stdout.write("Это новая строка.\n")
```
- В Python буферизация ввода/вывода - это механизм, при котором данные сначала собираются во временном хранилище (буфере), а затем отправляются в устройство вывода.
#
3) `[writelines(lines)]` - используется для записи списка строк lines в поток вывода (stdout) без добавления разделителей между строками.
- Не добавляет символ новой строки (\n) между строками, поэтому, если необходимо, разделители следует добавить вручную.
```
import sys

# Список строк для записи
lines = ["Первая строка", "Вторая строка", "Третья строка"]

# Запись списка строк в stdout с использованием writelines
sys.stdout.writelines(line + '\n' for line in lines)
```

</details>
<details>
  <summary>Примечание</summary>

- `[strip()]` - строковый метод, удаляющий с обоих концов строки пробелы, символы табуляции и переноса строки. 
  
</details>






















