#  Тема 37 - Открытие-Закрытие файла `[ ]`

## Работа с файлами условно делится на 3 пункта:

- `Открытие файла`
- `Изменение файла`
- `Закрытие файла`
#
Работа с файлами может осуществляться через терминал и через среду разработки (Разбираем на примере PyCharm).

# 1. Терминал
<details>
  <summary>------------------------------------------------</summary>

## Открытие файла
<details>
  <summary>------------------------------------------------</summary>

- Открытие файла начинается с расположения нужного файла.  
Для того, что бы открыть файл нужно перейти в директорию, в которой этот файл расположен.

<details>
  <summary>Linux:</summary>
    
1. Открыть терминал.
2. Использовать команду `cd (change directory)` с указанием полного или относительного пути к целевой директории. 
```
# Переход в директорию по полному пути
cd /home/ИмяПользователя/Documents

# Переход в директорию по относительному пути
cd ~/Documents
```
#
</details>

<details>
  <summary>Windows:</summary>
  
1. Открыть командную строку `(cmd)` или `PowerShell`.
2. Использовать команду `cd` с указанием полного или относительного пути. 
```
# Переход в директорию по полному пути
cd C:\Users\ИмяПользователя\Documents

# Переход в директорию по относительному пути
cd Documents
```
#
  </details>
  
#
</details>


#
</details>

#


















# 2. PyCham
<details>
  <summary>------------------------------------------------</summary>


<details>
  <summary>Расположение файла</summary>

Что бы открыть файл в PyCharm нужно поместить его в директорию действующего проекта`:

<details>
  <summary>Linux:</summary>
  
1) На Ubuntu:  
- Помести файл `example.txt` внутрь директории проекта `/Home/it_folder/PyCharm_projects/ПоколениеPython_PRO`. Таким образом, структура проекта может выглядеть так:
  
```
/Home/it_folder/PyCharm_projects/ПоколениеPython_PRO
|-- example.txt
|-- другие_файлы_проекта
|-- ...
```
#
</details>

<details>
  <summary>Windows:</summary>
2) На Windows:
- Помести файл `example.txt` внутрь директории проекта `C:\it\JetBrains\PyCharm Projects\Stepik\ПоколениеPython_Pro`. Структура проекта на Windows может быть подобной:

```
C:\it\JetBrains\PyCharm Projects\Stepik\ПоколениеPython_Pro
|-- example.txt
|-- другие_файлы_проекта
|-- ...
```
</details>

</details>

<details>
  <summary>Открытие файла</summary>
  
- `[open('file_name', 'acsess_mode', encoding='utf-8')]` - функция открывающая файл.

     - `['file_name']` - Имя открываемого файла, или путь к нему (Обязательно в кавычках).
     - `['acsess_mode']` - Режим доступа к файлу (по умолчанию 'r'). Это способ, каким ты открываешь файл, чтобы сказать программе, как ты собираешься использовать этот файл.
     - `[encoding='utf-8']`- Указание кодировки файла. РЕКОМНЕНДУЕТСЯ!
 

- `[my_file.close()]` - закрывающий метод. При работе с функцией `[open()]` обязателен!
```
my_file = open('example.txt', 'r+')
.
. Здесь происходит изменение файла.
.
my_file.close()
```
- Режимыдоступа к файлу:
```
1) [r] - (read) Только чтение. Файл открытый в таком режиме изменить не получится.
2) [w] - (write) Только запись. Если файл уже существует, стереть его содержимое. Если файл не существует, он будет создан.
3) [a] - (append) Открыть файл для записи. Данные будут добавлены в конец файла. Если файл не существует, он будет создан.
4) [r+] - (read + Write) Открыть файл для чтения и записи. В этом режиме происходит частичная перезапись содержимого файла. Данные в файл, они начинают записываться с той позиции в файле, на которой находится текущий указатель файла (file pointer). Указатель файла устанавливается на начало файла, и если ты пишешь, например, 10 символов, они заменяют первые 10 символов в файле.
5) [x] - Создать новый файл в режиме записи. Если файл существует, произойдет ошибка.
```
#
- Для работы с бинарными файлами используются те же режимы доступа, только с препиской `[b]`

     - `[rb]`, `[wb]`, `[ab]`, `[rb+]`, `[xb]`.
#

## Менеджер контекста

- Конструкция создающая контекст для работы с файлом называется менеджер контекста:

     - `[with]` - ключевое слово, для создания менеджево контекста.
     - `[open()]` - функция открывает файл, и ее результат (файловый объект) присваивается псевдониму (например, file).
     - `[as file]` - Псевдоним (в данном случае file) становится именем, по которому можно обращаться к файловому объекту внутри блока with.
```
with open('example.txt', 'r') as file:
    # Тут выполняются операции с файлом, благодаря контексту
# Файл автоматически закрывается при выходе из блока with
```
- Один и тот же менеджер контекста (with), можно использовать чтобы открывать файл в разных режимах в пределах одного блока кода. После завершения работы с файлом в одном режиме, он закроется, и можно будет снова открыть его в другом режиме в том же блоке with.
```
with open('example.txt', 'r') as file:
    content = file.read()
    print(content)

with open('example.txt', 'a') as file:
    file.write('\nNew line added')

with open('example.txt', 'r') as file:
    updated_content = file.read()
    print(updated_content)
```

</details>



</details>

</details>












#

# Закрытие файла
<details>
 <summary>------------------------------------------------</summary>
  

</details>
