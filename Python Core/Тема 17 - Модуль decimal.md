# Модуль decimal

- `[ decimal ]` - Модуль стандартной библиотеки Python, предоставляет поддержку для арифметики с фиксированной точностью. Настраиваемый аналог числа `[float]`.
#
### Для использовния модуля, его нужно импортировать
 - `[from decimal import Decimal]` - импортирует класс `[Decimal]` из модуля `[decimal]`, вместе со всеми его методами.
```
from decimal import Decimal

n =  Decimal('10.75')
```
#
 - Тип данных Decimal реализован программно, поэтому он в разы медленнее типа данных float, реализованного аппаратно.
 - `[decimal]` - Неизменяемый тип данных, но настраиваемый.
 - `[decimal]` - создаётся из чисел (int) и строк (str)
 - Для чисел `[decimal]` доступны:
    - Операторы сравнения (==, !=, >, <, >=, <=,)
    - Математические операторы (+, -, *, /, %, //)
    - Модуль math (но результатом всегда будет число float)
#

## Функции и мметоды модуля `[decimal]`

<details>
  <summary>Основные методы класса decimal</summary>
 
#

<details>
  <summary>Изменение контекста</summary>
 
#
### 1) `[Decimal().as_tuple()]` - метод, который возвращает кортеж, представляющий децимальное число в виде трех элементов: 
 - `[sign]` - Знак числа (0 - положительное, 1 - отрицательное)
 - `[digits]` - Цифры числа (в виде кортежа)
 - `[exponent]` - экспонента (колличество цифр после запятой, умноженное на -1)
 - Допускается использование каждого атрибута самостоятельно.
```
from decimal import Decimal

# Создаем децимальное число
my_decimal = Decimal('123.456')

# Получаем кортеж из децимального числа
decimal_tuple = my_decimal.as_tuple()

# Выводим результат
print(decimal_tuple)                           # DecimalTuple(sign=0, digits=(1, 2, 3, 4, 5, 6), exponent=-3)
print("Знак:", decimal_tuple.sign)             # Знак: 0
print("Цифры:", decimal_tuple.digits)          # Цифры: (1, 2, 3, 4, 5, 6)
print("Экспонента:", decimal_tuple.exponent)   # Экспонента: -3
```
#
### 2) `[getcontext()]` - функция модуля decimal, редставляющий текущий контекст для арифметических операций с числами `[Decimal]`. Контекст определяет параметры, такие как точность (количество знаков после запятой), режим округления и другие свойства операций `[Decimal]`.

- getcontext() используется для установки глобального контекста для арифметических операций с числами Decimal. Этот контекст влияет на параметры всех операций Decimal, выполняемых в пределах того кода, где был установлен контекст.
- Имеет ряд параметров:
   -  `[prec]` - устанавливает точность (количество знаков после запятой) для арифметических операций.  
   -  `[rounding]` - определяет метод округления.  
   -  `[Emin]` - устанавливает минимальное значение экспоненты, которое может принимать децимальное число
   -  `[Emax]` - устанавливает максимальное значение экспоненты, которое может принимать децимальное число
   -  `[capitals]` -Этот параметр относится к представлению бесконечности и NaN.
   -  `[clamp]` - при значении = 1, этот параметр гарантирует, что результаты операций будут в пределах Emin и Emax. При 0 функциональность отключена.
   -  `[flags=[]]` - список флагов, которые могут быть установлены в процессе арифметических операций.
   -  `[traps=[]]` - список исключений, которые будут ввозбуждаться при возникновении ошибки.
```
from decimal import getcontext, Decimal, ROUND_HALF_UP

# Устанавливаем контекст для Decimal
getcontext().prec = 4  # Задаем точность до 4 знаков после запятой
getcontext().rounding = ROUND_HALF_UP  # Устанавливаем режим округления

# Создаем Decimal число
decimal_number = Decimal('1.2344999999999999307220832633902318775653839111328125')

# Используем Decimal операции с учетом установленного контекста
result = decimal_number * Decimal('2.0')

# Выводим результат
print(result)          # 2.469
```

#
### 3) `[Decimal(num).quantize()]` - метод, используется для округления и установки точности числа `[Decimal]`.  
```
decimal.quantize(exp, rounding=None, context=None)
```
   - `[exp]` - это Decimal-число, которое задает желаемую точность округления.
   - `[rounding]` - опциональный параметр, указывающий метод округления (по умолчанию None, что означает использование текущего контекста).
   - `[context]` - опциональный параметр, представляющий контекст для округления (по умолчанию None, что означает использование текущего контекста).
```
from decimal import Decimal, ROUND_HALF_UP

# Создаем Decimal число
decimal_number = Decimal('1.2344999999999999307220832633902318775653839111328125')

# Используем quantize для округления
rounded_number = decimal_number.quantize(Decimal('0.0001'), rounding=ROUND_HALF_UP)

# Выводим округленное число
print(rounded_number)

```

</details>

<details>
  <summary>Константы округления</summary>

#
### 1) `[ROUND_CELLING]` - 
#
### 2) `[ROUND_FLOOR]` - 
#
### 3) `[ROUND_DAWN]` -
#
### 4) `[ROUND_HALF_EVEN]` - 
#
### 2) `[ROUND_HALF_DAWN]` - 
#
### 3) `[ROUND_UP]` -
  </details>

</details>
