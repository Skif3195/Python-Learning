# Тема 40 - JSON-файлы `[]`

`[JSON]` - (JavaScript Object Notation) - это формат обмена данными, который широко используется для передачи данных между веб-сервером и клиентом, а также для хранения данных.  
- JSON представляет собой текстовый формат, легко читаемый как человеком, и легко парсится компьютером.

#

<details>
  <summary>Синтаксис JSON</summary>

1. `[Объекты (Objects)]` - Объекты в JSON представляют собой неупорядоченные коллекции пар ключ-значение.

      - Ключи всегда должны быть строками и должны быть заключены в двойные кавычки.
      - Значениями могут быть: Строки (Strings), Числа (Numbers), Числа (Numbers), Массивы (Arrays), Null.
  
           - В строках могут быть любые символы, включая спецсимволы, но они должны быть заключены в двойные кавычки.
           - Числа Могут быть целыми или с плавающей точкой.
           - Логические значения Могут быть только true или false.
           - Массивы могут содержать любые значения JSON, включая другие массивы или объекты.
           - Значение null обозначает отсутствие значения.
#
2. `[Вложнность]` - JSON поддерживает вложенные объекты. При чём глубина вложенности может быть бесконечной.

```
{
  "ученик": {
    "имя": "Иван",
    "возраст": 10,
    "класс": {
      "название": "5А",
      "руководитель": "Петрова Н.В."
    }
  }
}

```
Здесь объект "ученик" содержит вложенный объект "класс", который в свою очередь содержит информацию о классе.  
#
3. `[Отступы, переносы и пробелы]` - в Json не обязательны, но улучшают читаемость кода. Например:
```
{"ключ1": "значение1", "ключ2": "значение2", "ключ3": "значение3"}
```
и
```
{
  "ключ1": "значение1",
  "ключ2": "значение2",
  "ключ3": "значение3"
}
```
Эквивалентны друг другу.  
Это означает, что JSON-данные в формате строки могут содержать пробелы и переносы строк для улучшения читаемости и оформления, но они не являются частью синтаксиса самого формата данных и не влияют на структуру JSON.
#

</details>

#

<details>
  <summary>Модуль json в Python</summary>

`[import json]` - json - модуль, предоставляющий функционал, для работы с данными в формате JSON.

   - Позволяет загружать JSON-данные из строк, файлов или URL-адресов и сохранять данные в формате JSON. 
   - Предоставляет методы для сериализации и десериализации объектов Python в JSON и обратно.
#
`[Сериализация]` - Процесс преобразование объекта Python в строку в формате JSON. 

   - Сериализация - это процесс преобразования объекта в последовательность байтов или в строку, которая может быть сохранена или передана по сети, и в дальнейшем восстановлена обратно в объект. Этот процесс позволяет сохранять состояние объекта или передавать его через сеть, чтобы другой процесс или приложение могло восстановить его позже.  
  
`[Десериализация]` - процесс преобразование строки в формате JSON обратно в объект Python.

   - Десериализация - это процесс обратного преобразования сериализованных данных (например, строки JSON или последовательности байтов) обратно в объекты, специфичные для языка программирования. То есть это процесс восстановления состояния объекта из его сериализованного представления.

#
### Функции модуля json

1. `[json.dumps(obj)]` - Функция, предназначена для сериализации (преобразования) объекта Python в строку в формате JSON. Название dumps означает "dump to string" (преобразовать в строку).

<details>
  <summary>Необязательные параметры</summary>

- `[json.dumps(obj, *, skipkeys=False, ensure_ascii=True, indent=None, separators=None, sort_keys=False]`

     - `[obj]` - Объект Python, который необходимо сериализовать в JSON-строку.
       
     - `[skipkeys]` - Опциональный параметр. Если True, то пропускает ключи, которые не могут быть сериализованы (например, ключи с типом данных не поддерживаемым JSON, такие как функции).
       
     - `[ensure_ascii]` - Опциональный параметр. Если True (по умолчанию), то все не-ASCII символы будут экранированы в виде escape-последовательностей. Если False, то не-ASCII символы будут выводиться как есть.
       
     - `[indent]` - Опциональный параметр. Управляет отступами в итоговой строке JSON. Если значение None (по умолчанию), то отступы отсутствуют. Если это число, то это количество пробелов, которое следует использовать для каждого уровня вложенности. Если это строка, то строка будет использоваться как отступ.
       
     - `[separators]` - Опциональный параметр. Позволяет настроить разделители между элементами JSON. По умолчанию равен (", ", ": ").
       
     - `[sort_keys]` - Опциональный параметр. Если True, то ключи в объекте JSON будут отсортированы перед сериализацией.
      
</details>

<details>
  <summary>Пример</summary>
  
```
import json

data = {"name": "John", "age": 30, "city": "New York"}
json_string = json.dumps(data, indent=4)
print(json_string)

Выведет:
{
    "name": "John",
    "age": 30,
    "city": "New York"
}

```
</details>

#

2.  - `[json.dump(obj, fp)]` - используется для сериализации объекта Python и записи его в файл в формате JSON.
      
         - `[obj]` - Объект Python, который необходимо сериализовать в JSON и записать в файл.ией.
         - `[fp]` - Файл, в который будет записана json-строка
         - Остальные параметры такие же, как и для функции json.dumps().
<details>
  <summary>Пример</summary>
  
```
import json

data = {"name": "John", "age": 30, "city": "New York"}

# Открываем файл для записи в режиме 'w'
with open('data.json', 'w') as f:
    json.dump(data, f)
```
Этот код сериализует словарь data в JSON-строку и записывает его в файл с именем data.json. Файл будет создан или перезаписан, если он уже существует.

</details>

#

3.  - `[json.loads(string)]` -  используется для десериализации (преобразования) строки JSON в объект Python. Название loads означает "load from string" (загрузить из строки).
  
<details>
  <summary>Необязательные параметры</summary>

  - Необязательные параметры полезны, когда когда вам нужно выполнить специальную обработку json-данных

- `[json.loads(string, *, cls=None, object_hook=None, parse_float=None, parse_int=None, parse_constant=None, object_pairs_hook=None]`

     - `[cls]` - Опциональный параметр. Используется для задания кастомного класса, который будет использоваться для создания объектов во время десериализации. По умолчанию значение None означает использование стандартных классов Python (например, dict для объектов JSON-объекта).  

     - `[object_hook]` - Опциональный параметр. позволяет указать функцию, которая будет вызываться для каждого объекта в формате JSON во время десериализации. Эта функция должна принимать словарь JSON-объекта в качестве аргумента и возвращать объект Python. По умолчанию значение None означает, что десериализация будет выполняться стандартным образом без каких-либо специальных преобразований.  

     - `[parse_float]` - Опциональный параметр. Позволяет указать функцию, которая будет вызываться для преобразования чисел с плавающей запятой из JSON-строки в Python. По умолчанию значение None означает, что числа с плавающей запятой будут преобразовываться стандартным образом.

     - `[parse_int]` - Опциональный параметр. Позволяет указать функцию, которая будет вызываться для преобразования целых чисел из JSON-строки в Python. По умолчанию значение None означает, что целые числа будут преобразовываться стандартным образом.
 
     - `[parse_constant]` - Опциональный параметр. Позволяет указать словарь, содержащий пары ключ-значение для замены констант JSON (например, Infinity, NaN, -Infinity). По умолчанию значение None означает, что константы JSON будут преобразовываться стандартным образом.

     - `[object_pairs_hook]` - Опциональный параметр. Позволяет указать функцию, которая будет вызываться для каждой пары ключ-значение в JSON-объекте во время десериализации. Эта функция должна принимать список кортежей (ключ, значение) в качестве аргумента и возвращать объект Python. По умолчанию значение None означает, что десериализация будет выполняться стандартным образом без каких-либо специальных преобразований.

</details>

<details>
  <summary>Пример</summary>
  
```
import json

json_data = '{"name": "John", "age": 30, "city": "New York"}'
python_data = json.loads(json_data)
print(python_data)
```
Этот код десериализует строку json_data, содержащую данные в формате JSON, и преобразует ее в объект Python. Результатом будет словарь, который затем выводится на экран.

</details>
   

#

4.  - `[json.load(fp)]` - используется для чтения данных из файла в формате JSON и преобразования их в объект Python.
  
    - `[fp]` - Объект файла, из которого нужно прочитать данные в формате JSON.
    - Остальные параметры такие же, как и для функции json.loads().
  
<details>
  <summary>Пример</summary>
  
```
import json

# Открываем файл для чтения
with open('data.json', 'r') as f:
    loaded_data = json.load(f)

print(loaded_data)
```
Этот код открывает файл data.json для чтения и загружает данные из него в объект Python. Результатом будет объект Python, соответствующий содержимому файла JSON. В данном случае, если файл data.json содержит JSON-объект, то в переменной loaded_data будет содержаться словарь, представляющий этот JSON-объект.

</details>

</details>

#

<details>
  <summary>Типы данных в JSON</summary>



</details>

#

<details>
  <summary>Изменение типов данных в JSON</summary>



</details>

#

<details>
  <summary>Ограничения по типам данных в JSON</summary>



</details>

#

<details>
  <summary>Кирилица в JSON</summary>



</details>
